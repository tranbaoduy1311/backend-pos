# --- SỬA LẠI NHƯ THẾ NÀY ---
# Cú pháp ${TEN_BIEN:GIA_TRI_MAC_DINH}
# Nghĩa là: Nếu có biến DB_URL (trên Render) thì dùng nó.
# Nếu không có (ở nhà) thì dùng localhost.

spring.datasource.url=${DB_URL:jdbc:mysql://localhost:3306/pos_db}
spring.datasource.username=${DB_USERNAME:root}
spring.datasource.password=${DB_PASSWORD:}

spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# 2. Cấu hình JPA
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# 3. Cấu hình AI (Gemini)
gemini.api.key=AIzaSyC4UOi5nla3ZV5CzmA7ECEJuqH-bQ3hwJQ
gemini.api.url=https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent

# ==============================================================
# 4. CẤU HÌNH GIỚI HẠN KẾT NỐI (QUAN TRỌNG ĐỂ SỬA LỖI TRÊN RENDER)
# ==============================================================
# Giới hạn tối đa 3 kết nối (Vì gói Free chỉ cho phép 5)
spring.datasource.hikari.maximum-pool-size=3
# Số kết nối tối thiểu giữ lại
spring.datasource.hikari.minimum-idle=1
# Thời gian chờ kết nối (30 giây)
spring.datasource.hikari.connection-timeout=30000
# Thời gian sống của một kết nối
spring.datasource.hikari.max-lifetime=1800000